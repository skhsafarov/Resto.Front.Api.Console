# ????????????? Console.cs ? ???????? iiko

????? ????????? NuGet ?????? `Resto.Front.Api.Console` ?? ?????? ???????????? ?????????? ????? `Console` ??? ?????? ????? ? ??????? ???????????.

## ??????? ?????????????

```csharp
using System;
using RestoFrontApiConsole;

// ??????????? ????? ????? ???????? ????????? ? System.Console
using Console = RestoFrontApiConsole.Console;

namespace YourPlugin
{
    public class Plugin
    {
        public void Initialize()
        {
            // ??????? ????? ?????????
            Console.WriteLine("=== Plugin Started ===");
            Console.WriteLine("Plugin initialized successfully");
            
            // ??????????????? ?????
            var version = "1.0.0";
            Console.WriteLine("Plugin version: {0}", version);
            
            // ???????? ???????????
            if (Console.IsConnected)
            {
                Console.WriteLine("Console connected!");
            }
            else
            {
                Console.WriteLine("Console not connected, trying to reconnect...");
                Console.Reconnect();
            }
        }
        
        public void ProcessOrder(string orderId, decimal total)
        {
            Console.WriteLine("Processing order: {0}", orderId);
            
            try
            {
                // ???? ?????? ????????? ??????
                // ...
                
                Console.WriteInfo("Order {0} completed with total: {1:C}", orderId, total);
            }
            catch (Exception ex)
            {
                Console.WriteError("Failed to process order {0}: {1}", orderId, ex.Message);
                Console.WriteException(ex); // ??????? ?????? ?????????? ?? ??????????
            }
        }
        
        public void Shutdown()
        {
            Console.WriteLine("Plugin is shutting down...");
            Console.Shutdown();
        }
    }
}
```

## ?????? ??????? ???????????

????? `Console` ????????????? ??????? ?????? ??? ????????? ??????? ???????????:

```csharp
// ?????????????? ????????? (??????? ???? ? ???????)
Console.WriteInfo("Order processing started");
Console.WriteInfo("Processed {0} orders", orderCount);

// ?????????????? (?????? ???? ? ???????)
Console.WriteWarn("Low inventory for item: {0}", itemName);
Console.WriteWarn("Connection timeout, retrying...");

// ?????? (??????? ???? ? ???????)
Console.WriteError("Failed to connect to database");
Console.WriteError("Invalid order format: {0}", orderData);

// ?????????? (??????? ???? ? ?????? ??????????? ?? ??????)
try
{
    // ???, ??????? ????? ??????? ??????????
}
catch (Exception ex)
{
    Console.WriteException(ex);
}
```

## ????????????? ? System.Console

????? `Console` ????????? ???????? ?????? `System.Console`, ??????? ?? ?????? ????? ???????? ???????????? ??????:

```csharp
// ?????? System.Console.WriteLine("message");
Console.WriteLine("message");

// ?????????????? ????????? ???? ??????
Console.WriteLine(42);
Console.WriteLine(true);
Console.WriteLine(DateTime.Now);
Console.WriteLine(3.14m);

// ??????????????? ?????
Console.WriteLine("Value: {0}, Date: {1:yyyy-MM-dd}", value, DateTime.Now);
```

## ?????????? ????????????

```csharp
// ???????? ????????? ???????????
if (Console.IsConnected)
{
    Console.WriteLine("Console is ready");
}

// ??????????????? ? ?????? ?????? ?????
Console.Reconnect();

// ?????????? ?????????? ??????
Console.Shutdown();
```

## ?????????????? ?????? ???????

??? ????????? NuGet ?????? ?????????? ?????????? `Resto.Front.Console.exe` ????????????? ?????????? ? ????? ?????? ?????? ???????. ??? ?????? ?????? ?????? ?????? ??????????? ?????????? ?????????? ????????? ??????? ?????????????.

???? ?????????? ?? ????????, ?? ??????:

1. ????????? `Resto.Front.Console.exe` ??????? ?? ????? ??????
2. ???????? ? ??? `.csproj` ???????? ??? ??????????????? ???????:

```xml
<PropertyGroup>
  <StartRestoConsole>true</StartRestoConsole>
</PropertyGroup>
```

## ?????????? ??????????????? ???????

???? ?? ?????? ????????? ?????????????? ??????????? ?????? ???????:

```xml
<PropertyGroup>
  <RestoConsoleAutoStart>false</RestoConsoleAutoStart>
</PropertyGroup>
```

## ??????? ????????????? ? ?????? ?????????

### ??????????? ???????? ??????
```csharp
public void ProcessPayment(Order order, decimal amount)
{
    Console.WriteInfo("Processing payment for order {0}, amount: {1:C}", order.Id, amount);
    
    try
    {
        // ?????? ????????? ???????
        var result = paymentService.Process(order, amount);
        
        if (result.Success)
        {
            Console.WriteInfo("Payment successful for order {0}", order.Id);
        }
        else
        {
            Console.WriteWarn("Payment failed for order {0}: {1}", order.Id, result.ErrorMessage);
        }
    }
    catch (Exception ex)
    {
        Console.WriteError("Payment processing error for order {0}", order.Id);
        Console.WriteException(ex);
    }
}
```

### ?????????? ??????????? ? ??????? ????????
```csharp
public void ConnectToExternalSystem()
{
    Console.WriteLine("=== Connecting to External System ===");
    
    try
    {
        var connection = externalSystemClient.Connect();
        Console.WriteInfo("Successfully connected to external system");
    }
    catch (TimeoutException ex)
    {
        Console.WriteWarn("Connection timeout, will retry later");
    }
    catch (Exception ex)
    {
        Console.WriteError("Failed to connect to external system");
        Console.WriteException(ex);
    }
}
```